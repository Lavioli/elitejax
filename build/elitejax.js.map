{"version":3,"sources":["webpack:///webpack/bootstrap 0b78622fcb0ac3f672a7","webpack:///./src/index.es6"],"names":["Elitejax","config","ajaxForm","getEl","res","elem","document","querySelectorAll","Array","from","forEach","val","getAttribute","push","formEl","num","length","i","valid","validInput","inputEl","name","toLowerCase","value","obj","str","resType","key","el","v","addEventListener","e","preventDefault","action","target","method","toUpperCase","data","getElVal","elements","callback","cb","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","response","responseText","JSON","parse","open","params","async","send","setRequestHeader","cType","ej","console","log","window","elitejax"],"mappings":"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","file":"elitejax.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0b78622fcb0ac3f672a7\n **/","class Elitejax {\n  // get config via object for elitejax constructor\n  constructor (config = {}) {\n    this.config = config;\n    this.ajaxForm(this.getEl());\n  }\n\n  // gets elements that has been marked for elitejax\n  getEl () {\n    const res = [];\n    const elem = document.querySelectorAll('form');\n    Array.from(elem).forEach((val) => {\n      if (val.getAttribute('data-elitejax')) {\n        res.push(val);\n      }\n    });\n    return res;\n  }\n\n  // gets value from form elements\n  getElVal (formEl) {\n    const res = {};\n    const num = formEl.length;\n    for (let i = 0; i < num; i++) {\n      let valid = this.validInput(formEl[i]);\n      if (valid[0]) {\n        res[valid[1]] = valid[2];\n      }\n    }\n    return res;\n  }\n\n  // validate user inputs according to input types\n  validInput (inputEl) {\n    let val = [true, '', ''];\n    let name = inputEl.name.toLowerCase();\n    let value = inputEl.value;\n    if (name !== '' && value !== '' && name !== 'submit' && value !== 'submit') {\n      val[1] = name;\n      val[2] = value;\n    } else {\n      val[0] = false;\n    }\n    return val;\n  }\n\n  // convert object to url parameter\n  params (obj = {}) {\n    var str = '';\n    str = (this.config.resType === 'jsonp') ? str + 'callback=callback' : str;\n    for (var key in obj) {\n        if (str !== '') {\n            str += '&';\n        }\n        str += `${key}=${obj[key]}`;\n    }\n    return str;\n  }\n\n  ajaxForm (el) {\n    // Loop through all the elements\n    el.forEach((v, i) => {\n      // add on submit event listener to all of them\n      v.addEventListener(v.getAttribute('data-listen'), (e) => {\n        e.preventDefault(); // stop submission\n        let action = e.target.getAttribute('action');\n        let method = e.target.getAttribute('method').toUpperCase();\n        let data = this.getElVal(e.target.elements); // data for ajax\n        let callback = this.config.cb;\n        let resType = this.config.resType;\n        // get AJAX ready\n        var xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n          if (this.readyState === 4 && this.status === 200) {\n            let response = this.responseText;\n            if (resType === 'json') {\n              response = JSON.parse(response);\n              callback(response);\n            }\n          }\n        };\n        // make request\n        if (method === 'GET') {\n          xhttp.open(method, action + '?' + this.params(data), this.config.async);\n          xhttp.send();\n        } else {\n          xhttp.open(method, action, this.config.async);\n          xhttp.setRequestHeader('Content-type', this.config.cType);\n          xhttp.send(this.params(data));\n        }\n      });\n    });\n  }\n}\n\nlet ej = (config = {\n  async: true,\n  cType: 'application/json',\n  resType: 'json',\n  cb: function (data) {\n    console.log(data);\n  }\n}) => {\n  return new Elitejax(config);\n};\n\n// make module available to browser\nwindow.ej = window.elitejax = ej;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.es6\n **/"],"sourceRoot":""}