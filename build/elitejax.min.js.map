{"version":3,"sources":["webpack:///elitejax.min.js","webpack:///webpack/bootstrap 45b6add730ce5b715e96","webpack:///./src/index.es6"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","Elitejax","config","arguments","undefined","this","ajaxForm","getEl","value","res","elem","document","querySelectorAll","Array","from","forEach","val","getAttribute","push","formEl","num","valid","validInput","inputEl","name","toLowerCase","obj","str","resType","el","_this","v","addEventListener","e","preventDefault","action","method","toUpperCase","data","getElVal","elements","callback","cb","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","response","responseText","JSON","parse","open","params","async","send","setRequestHeader","cType","ej","console","log","window","elitejax"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMM,SAASI,EAAQD,GAEtB,YAIA,SAASQ,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,MEhD3hBkB,EFoDU,WElDd,QAAAA,KAA0B,GAAbC,GAAaC,UAAAb,QAAA,GAAAc,SAAAD,UAAA,MAAAA,UAAA,EAAAtB,GAAAwB,KAAAJ,GACxBI,KAAKH,OAASA,EACdG,KAAKC,SAASD,KAAKE,SFqKpB,MAvGAtB,GAAagB,IACXJ,IAAK,QACLW,MAAO,WE3DR,GAAMC,MACAC,EAAOC,SAASC,iBAAiB,OAMvC,OALAC,OAAMC,KAAKJ,GAAMK,QAAQ,SAACC,GACpBA,EAAIC,aAAa,kBACnBR,EAAIS,KAAKF,KAGNP,KFkENZ,IAAK,WACLW,MAAO,SE/DAW,GAGR,IAAK,GAFCV,MACAW,EAAMD,EAAO7B,OACVD,EAAI,EAAGA,EAAI+B,EAAK/B,IAAK,CAC5B,GAAIgC,GAAQhB,KAAKiB,WAAWH,EAAO9B,GAC/BgC,GAAM,KACRZ,EAAIY,EAAM,IAAMA,EAAM,IAG1B,MAAOZ,MFqENZ,IAAK,aACLW,MAAO,SElEEe,GACV,GAAIP,KAAO,EAAM,GAAI,IACjBQ,EAAOD,EAAQC,KAAKC,cACpBjB,EAAQe,EAAQf,KAOpB,OANa,KAATgB,GAAyB,KAAVhB,GAAyB,WAATgB,GAA+B,WAAVhB,GACtDQ,EAAI,GAAKQ,EACTR,EAAI,GAAKR,GAETQ,EAAI,IAAK,EAEJA,KFwENnB,IAAK,SACLW,MAAO,WErEQ,GAAVkB,GAAUvB,UAAAb,QAAA,GAAAc,SAAAD,UAAA,MAAAA,UAAA,GACZwB,EAAM,EACVA,GAA+B,UAAxBtB,KAAKH,OAAO0B,QAAuBD,EAAM,oBAAsBA,CACtE,KAAK,GAAI9B,KAAO6B,GACA,KAARC,IACAA,GAAO,KAEXA,GAAU9B,EAAV,IAAiB6B,EAAI7B,EAEzB,OAAO8B,MF0EN9B,IAAK,WACLW,MAAO,SExEAqB,GAAI,GAAAC,GAAAzB,IAEZwB,GAAGd,QAAQ,SAACgB,EAAG1C,GAEb0C,EAAEC,iBAAiBD,EAAEd,aAAa,eAAgB,SAACgB,GACjDA,EAAEC,gBACF,IAAIC,GAASF,EAAE9C,OAAO8B,aAAa,UAC/BmB,EAASH,EAAE9C,OAAO8B,aAAa,UAAUoB,cACzCC,EAAOR,EAAKS,SAASN,EAAE9C,OAAOqD,UAC9BC,EAAWX,EAAK5B,OAAOwC,GACvBd,EAAUE,EAAK5B,OAAO0B,QAEtBe,EAAQ,GAAIC,eAChBD,GAAME,mBAAqB,WACzB,GAAwB,IAApBxC,KAAKyC,YAAoC,MAAhBzC,KAAK0C,OAAgB,CAChD,GAAIC,GAAW3C,KAAK4C,YACJ,UAAZrB,IACFoB,EAAWE,KAAKC,MAAMH,GACtBP,EAASO,MAKA,QAAXZ,GACFO,EAAMS,KAAKhB,EAAQD,EAAS,IAAML,EAAKuB,OAAOf,GAAOR,EAAK5B,OAAOoD,OACjEX,EAAMY,SAENZ,EAAMS,KAAKhB,EAAQD,EAAQL,EAAK5B,OAAOoD,OACvCX,EAAMa,iBAAiB,eAAgB1B,EAAK5B,OAAOuD,OACnDd,EAAMY,KAAKzB,EAAKuB,OAAOf,aFiFvBrC,KE1ENyD,EAAK,WAOH,GAPIxD,GAOJC,UAAAb,QAAA,GAAAc,SAAAD,UAAA,IANJmD,OAAO,EACPG,MAAO,mBACP7B,QAAS,OACTc,GAAI,SAAUJ,GACZqB,QAAQC,IAAItB,KAEVnC,UAAA,EACJ,OAAO,IAAIF,GAASC,GAItB2D,QAAOH,GAAKG,OAAOC,SAAWJ","file":"elitejax.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Elitejax = function () {\n\t  // get config via object for elitejax constructor\n\t  function Elitejax() {\n\t    var config = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Elitejax);\n\t\n\t    this.config = config;\n\t    this.ajaxForm(this.getEl());\n\t  }\n\t\n\t  // gets elements that has been marked for elitejax\n\t\n\t\n\t  _createClass(Elitejax, [{\n\t    key: 'getEl',\n\t    value: function getEl() {\n\t      var res = [];\n\t      var elem = document.querySelectorAll('form');\n\t      Array.from(elem).forEach(function (val) {\n\t        if (val.getAttribute('data-elitejax')) {\n\t          res.push(val);\n\t        }\n\t      });\n\t      return res;\n\t    }\n\t\n\t    // gets value from form elements\n\t\n\t  }, {\n\t    key: 'getElVal',\n\t    value: function getElVal(formEl) {\n\t      var res = {};\n\t      var num = formEl.length;\n\t      for (var i = 0; i < num; i++) {\n\t        var valid = this.validInput(formEl[i]);\n\t        if (valid[0]) {\n\t          res[valid[1]] = valid[2];\n\t        }\n\t      }\n\t      return res;\n\t    }\n\t\n\t    // validate user inputs according to input types\n\t\n\t  }, {\n\t    key: 'validInput',\n\t    value: function validInput(inputEl) {\n\t      var val = [true, '', ''];\n\t      var name = inputEl.name.toLowerCase();\n\t      var value = inputEl.value;\n\t      if (name !== '' && value !== '' && name !== 'submit' && value !== 'submit') {\n\t        val[1] = name;\n\t        val[2] = value;\n\t      } else {\n\t        val[0] = false;\n\t      }\n\t      return val;\n\t    }\n\t\n\t    // convert object to url parameter\n\t\n\t  }, {\n\t    key: 'params',\n\t    value: function params() {\n\t      var obj = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t      var str = '';\n\t      str = this.config.resType === 'jsonp' ? str + 'callback=callback' : str;\n\t      for (var key in obj) {\n\t        if (str !== '') {\n\t          str += '&';\n\t        }\n\t        str += key + '=' + obj[key];\n\t      }\n\t      return str;\n\t    }\n\t  }, {\n\t    key: 'ajaxForm',\n\t    value: function ajaxForm(el) {\n\t      var _this = this;\n\t\n\t      // Loop through all the elements\n\t      el.forEach(function (v, i) {\n\t        // add on submit event listener to all of them\n\t        v.addEventListener(v.getAttribute('data-listen'), function (e) {\n\t          e.preventDefault(); // stop submission\n\t          var action = e.target.getAttribute('action');\n\t          var method = e.target.getAttribute('method').toUpperCase();\n\t          var data = _this.getElVal(e.target.elements); // data for ajax\n\t          var callback = _this.config.cb;\n\t          var resType = _this.config.resType;\n\t          // get AJAX ready\n\t          var xhttp = new XMLHttpRequest();\n\t          xhttp.onreadystatechange = function () {\n\t            if (this.readyState === 4 && this.status === 200) {\n\t              var response = this.responseText;\n\t              if (resType === 'json') {\n\t                response = JSON.parse(response);\n\t                callback(response);\n\t              }\n\t            }\n\t          };\n\t          // make request\n\t          if (method === 'GET') {\n\t            xhttp.open(method, action + '?' + _this.params(data), _this.config.async);\n\t            xhttp.send();\n\t          } else {\n\t            xhttp.open(method, action, _this.config.async);\n\t            xhttp.setRequestHeader('Content-type', _this.config.cType);\n\t            xhttp.send(_this.params(data));\n\t          }\n\t        });\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Elitejax;\n\t}();\n\t\n\tvar ej = function ej() {\n\t  var config = arguments.length <= 0 || arguments[0] === undefined ? {\n\t    async: true,\n\t    cType: 'application/json',\n\t    resType: 'json',\n\t    cb: function cb(data) {\n\t      console.log(data);\n\t    }\n\t  } : arguments[0];\n\t\n\t  return new Elitejax(config);\n\t};\n\t\n\t// make module available to browser\n\twindow.ej = window.elitejax = ej;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** elitejax.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 45b6add730ce5b715e96\n **/","class Elitejax {\n  // get config via object for elitejax constructor\n  constructor (config = {}) {\n    this.config = config;\n    this.ajaxForm(this.getEl());\n  }\n\n  // gets elements that has been marked for elitejax\n  getEl () {\n    const res = [];\n    const elem = document.querySelectorAll('form');\n    Array.from(elem).forEach((val) => {\n      if (val.getAttribute('data-elitejax')) {\n        res.push(val);\n      }\n    });\n    return res;\n  }\n\n  // gets value from form elements\n  getElVal (formEl) {\n    const res = {};\n    const num = formEl.length;\n    for (let i = 0; i < num; i++) {\n      let valid = this.validInput(formEl[i]);\n      if (valid[0]) {\n        res[valid[1]] = valid[2];\n      }\n    }\n    return res;\n  }\n\n  // validate user inputs according to input types\n  validInput (inputEl) {\n    let val = [true, '', ''];\n    let name = inputEl.name.toLowerCase();\n    let value = inputEl.value;\n    if (name !== '' && value !== '' && name !== 'submit' && value !== 'submit') {\n      val[1] = name;\n      val[2] = value;\n    } else {\n      val[0] = false;\n    }\n    return val;\n  }\n\n  // convert object to url parameter\n  params (obj = {}) {\n    var str = '';\n    str = (this.config.resType === 'jsonp') ? str + 'callback=callback' : str;\n    for (var key in obj) {\n        if (str !== '') {\n            str += '&';\n        }\n        str += `${key}=${obj[key]}`;\n    }\n    return str;\n  }\n\n  ajaxForm (el) {\n    // Loop through all the elements\n    el.forEach((v, i) => {\n      // add on submit event listener to all of them\n      v.addEventListener(v.getAttribute('data-listen'), (e) => {\n        e.preventDefault(); // stop submission\n        let action = e.target.getAttribute('action');\n        let method = e.target.getAttribute('method').toUpperCase();\n        let data = this.getElVal(e.target.elements); // data for ajax\n        let callback = this.config.cb;\n        let resType = this.config.resType;\n        // get AJAX ready\n        var xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n          if (this.readyState === 4 && this.status === 200) {\n            let response = this.responseText;\n            if (resType === 'json') {\n              response = JSON.parse(response);\n              callback(response);\n            }\n          }\n        };\n        // make request\n        if (method === 'GET') {\n          xhttp.open(method, action + '?' + this.params(data), this.config.async);\n          xhttp.send();\n        } else {\n          xhttp.open(method, action, this.config.async);\n          xhttp.setRequestHeader('Content-type', this.config.cType);\n          xhttp.send(this.params(data));\n        }\n      });\n    });\n  }\n}\n\nlet ej = (config = {\n  async: true,\n  cType: 'application/json',\n  resType: 'json',\n  cb: function (data) {\n    console.log(data);\n  }\n}) => {\n  return new Elitejax(config);\n};\n\n// make module available to browser\nwindow.ej = window.elitejax = ej;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.es6\n **/"],"sourceRoot":""}