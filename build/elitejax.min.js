!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.config=t,this.ajaxForm(this.getEl())}return r(e,[{key:"getEl",value:function(){var e=[],t=document.querySelectorAll("form");return Array.from(t).forEach(function(t){t.getAttribute("data-elitejax")&&e.push(t)}),e}},{key:"getElVal",value:function(e){for(var t={},n=e.length,r=0;r<n;r++){var a=this.validInput(e[r]);a[0]&&(t[a[1]]=a[2])}return t}},{key:"validInput",value:function(e){var t=[!0,"",""],n=e.name.toLowerCase(),r=e.value;return""!==n&&""!==r&&"submit"!==n&&"submit"!==r?(t[1]=n,t[2]=r):t[0]=!1,t}},{key:"params",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t="";t="jsonp"===this.config.resType?t+"callback=callback":t;for(var n in e)""!==t&&(t+="&"),t+=n+"="+e[n];return t}},{key:"ajaxForm",value:function(e){var t=this;e.forEach(function(e,n){e.addEventListener(e.getAttribute("data-listen"),function(e){e.preventDefault();var n=e.target.getAttribute("action"),r=e.target.getAttribute("method").toUpperCase(),a=t.getElVal(e.target.elements),o=t.config.cb,i=t.config.resType,u=new XMLHttpRequest;u.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=this.responseText;"json"===i&&(e=JSON.parse(e),o(e))}},"GET"===r?(u.open(r,n+"?"+t.params(a),t.config.async),u.send()):(u.open(r,n,t.config.async),u.setRequestHeader("Content-type",t.config.cType),u.send(t.params(a)))})})}}]),e}(),o=function(){var e=arguments.length<=0||void 0===arguments[0]?{async:!0,cType:"application/json",resType:"json",cb:function(e){console.log(e)}}:arguments[0];return new a(e)};window.ej=window.elitejax=o}]);
//# sourceMappingURL=elitejax.min.js.map