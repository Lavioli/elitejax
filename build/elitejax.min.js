!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){n(this,e),this.config={},window.callback={},this.ajaxForm(this.getEl())}return a(e,[{key:"configure",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n={async:!0,cType:"application/json",resType:"json",callback:function(e){console.log(e)}};for(var a in n)void 0===t[a]&&(t[a]=n[a]);return this.config[e]=t,this.config[e]}},{key:"getEl",value:function(){var e=[],t=document.querySelectorAll("form");return Array.from(t).forEach(function(t){null!==t.getAttribute("data-elitejax")&&e.push(t)}),e}},{key:"getElVal",value:function(e){for(var t={},n=e.length,a=0;a<n;a++){var r=this.validInput(e[a]);r[0]&&(t[r[1]]=r[2])}return t}},{key:"validInput",value:function(e){var t=[!0,"",""],n=e.name.toLowerCase(),a=e.value,r=e.getAttribute("data-ej-x");return""!==n&&""!==a&&"submit"!==n&&"submit"!==a&&null===r?(t[1]=n,t[2]=a):t[0]=!1,t}},{key:"params",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],a="";a="jsonp"===t?"?"+a+"callback="+n:a;for(var r in e)""!==a&&(a+="&"),a+=r+"="+e[r];return a}},{key:"ajaxForm",value:function(e){var t=this;e.forEach(function(e,n){e.addEventListener("submit",function(e){e.preventDefault();var n=e.target.getAttribute("name"),a=e.target.getAttribute("action"),r=e.target.getAttribute("method").toUpperCase(),o=t.getElVal(e.target.elements);void 0===t.config[n]&&t.configure(n),t.ajaxIt(a,r,o,t.config[n])})})}},{key:"ajaxIt",value:function(e,t,n,a){var r=a.async,o=a.cType,i=a.resType,u=a.callback,c=new XMLHttpRequest;if(c.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=this.responseText;"json"===i&&(e=JSON.parse(e),u(e))}},"GET"===t&&"jsonp"!==i)c.open(t,e+"?"+this.params(n),r),c.setRequestHeader("Content-type",o),c.send();else if("GET"===t&&"jsonp"===i){var s=document.createElement("script");s.type="text/javascript";var l="ej_"+Date.now();window.callback[l]=u,s.src=e+this.params(n,i,"callback."+l),document.getElementsByTagName("head")[0].appendChild(s)}else c.open(t,e,r),c.setRequestHeader("Content-type",o),c.send(this.params(n))}}]),e}(),o=function(){return new r};window.ej=window.elitejax=o()}]);
//# sourceMappingURL=elitejax.min.js.map